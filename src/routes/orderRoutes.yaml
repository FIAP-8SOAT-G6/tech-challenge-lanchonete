paths:
  /orders:
    get:
      summary: Lista todos os pedidos
      tags:
        - Pedidos
      responses:
        "200":
          description: Lista de pedidos
          content:
            application/json:
              schema:
                type: array
                orders:
                  type: object
                  properties:
                    id:
                      type: integer
                    code:
                      type: string
                    status:
                      type: string
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        category:
                          type: string
                        price:
                          type: number
                          format: float
                        description:
                          type: string
        "500":
          description: Erro interno do servidor
    post:
      summary: Cria um novo pedido
      description: Creates a new order with the specified items.
      tags:
        - Pedidos
      requestBody:
        description: Payload to create a new order
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                customerId:
                  type: integer
                  description: ID of the customer
            required:
              - customerId
            example:
              customerId: 9
      responses:
        '200':
          description: Order created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: Unique identifier for the order
                  code:
                    type: string
                    description: Order code
                  status:
                    type: string
                    description: Current status of the order
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        product_id:
                          type: string
                        quantity:
                          type: integer
                  customer:
                    type: object
                    properties:
                      name:
                        type: string
                        description: Name of the customer
              example:
                id: "order123"
                code: "ORD456"
                status: "confirmed"
                items:
                  - product_id: "12345"
                    quantity: 2
                customer:
                  name: "John Doe"
        '400':
          description: Invalid input
        '500':
          description: Server error
  /orders/{id}:
    get:
      summary: Exibe um pedido pelo ID
      parameters:
        - in: path
          name: id
          required: true
          description: ID do pedido
          schema:
            type: integer
      tags:
        - Pedidos
      responses:
        "200":
          description: Lista o pedido desejado filtrando pelo ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  code:
                    type: string
                  status:
                    type: string
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      category:
                        type: string
                      price:
                        type: number
                        format: float
                      description:
                        type: string
        "500":
          description: Erro interno do servidor
  /orders/{id}/items:
    post:
      summary: Cria um novo item no pedido
      tags:
        - Pedidos
      parameters:
        - in: path
          name: id
          required: true
          description: ID do pedido
          schema:
            type: integer
      requestBody:
        description: Payload para criar um item no pedido
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                productId:
                  type: string
                  description: ID of the product
                quantity:
                  type: integer
                  description: Quantity of the product
              example:
                - productId: "1"
                  quantity: 2
              required:
                - productId
                - quantity
      responses:
        "201":
          description: Exibe o pedido com o item criado
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  code:
                    type: string
                  status:
                    type: string
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      category:
                        type: string
                      price:
                        type: number
                        format: float
                      description:
                        type: string
        "500":
          description: Erro interno do servidor
  /orders/{id}/items/{itemId}:
    put:
      summary: Atualiza um item existente do pedido
      tags:
        - Pedidos
      requestBody:
        description: Payload para atualizar um item no pedido
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  description: Quantidade do item no pedido
              required:
                - quantity
    delete:
      summary: Remove um item existente do pedido
      tags:
        - Pedidos
